<div id="treeContainer" ng-controller="forest.LeafController">
    <div ng-include=" 'assets/app/views/tree/leaf-modals.html' "></div>
    <div id="leaf">
        <div class="cardLarge">
            <div class="cardNameLarge">
                <a ng-href="#/app/{{treeInfo.id}}">
                    <i id="leafBack" class="icon-circle-arrow-left" style="margin-left:5px;margin-top:2px;float:left"></i>
                </a>
                <strong>{{leaf.name}}</strong>
                <a ng-click="openModifyLeafModal()">
                    <i id="leafBack" class="icon-cog" style="margin-right:5px;margin-top:2px;float:right"></i>
                </a>
            </div>
            <div class="leafHolder">
                <div class="row">
                    <div class="col-12 col-sm-6">
                        <div id="annotationCarousel" class="carousel slide" data-interval="false">
                            <ol class="carousel-indicators">
                                <li data-target="#annotationCarousel" ng-class="{active: $index==leaf.annotations.length-1}" ng-repeat="annotation in leaf.annotations" data-slide-to="{{$index}}"></li>
                            </ol>
                            <div class="carousel-inner">
                                <div class="cardImgLarge item" ng-class="{active: $index==leaf.annotations.length-1}" ng-repeat="annotation in leaf.annotations">
                                    <img class="leafImage" ng-src="{{annotation.path}}" ng-click="openAnnotationModal(annotation.path, annotation.filename)"/>
                                    <div>
                                        <span id="annotationAbout">Created: {{annotation.created_at | date:'fullDate'}}</span>
                                    </div>
                                </div>
                            </div>
                            <a class="leaf carousel-control" href="#annotationCarousel" data-slide="prev">
                                <span class="icon-prev"></span>
                            </a>
                            <a class="right carousel-control" href="#annotationCarousel" data-slide="next">
                                <span class="icon-next"></span>
                            </a>
                        </div>
                        <div id="addAnnotation">
<<<<<<< Updated upstream
                            <a class="btn btn-annotree" ng-click="openUploadAnnotationModal()">Add Image</a>
=======
                            <a class="btn btn-annotree" ng-click="openUploadAnnotationModal()">Add Annotation</a>
>>>>>>> Stashed changes
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="leafComments" >
                            <div id="commentsWrapper">
                                <div class="leafComment" ng-repeat="comment in leaf.comments | orderBy:'created_at' | date:'yyyy-MM-dd HH:mm:ss'">
                                    <div class="userImageHolder">
                                        <img class="userCommentImage" ng-src="{{comment.avatar}}"> 
                                    </div>
                                    <div class="userCommentHolder"> 
                                        <p class="userCommentName">{{comment.first_name}} {{comment.last_name}}</p> 
                                        <p class="userComment">{{comment.comment}}</p>
                                    </div>
                                    <hr class="smallHR"/>
                                </div>
                            </div>
                            <div class="leafComment" id="commentArea">
                                <div class="error-text" id="leafCommentError" ng-modal="leafCommentError"></div>
                                <div class="userImageHolder">
                                    <img class="userCommentImage" ng-src="{{user.avatar}}"> 
                                </div>
                                <div class="userCommentHolder">
                                    <form class="form-horizontal" name="leafCommentForm" ng-submit="addLeafComment()">
                                        <input type="text" class="form-control" maxlength="2048" id="newComment" placeholder="Enter a comment" ng-model="leafComment.comment" required />
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div post-render>
